"use strict";(self.webpackChunkh3_consumer_web=self.webpackChunkh3_consumer_web||[]).push([[5701],{"./src/views/FindCare/components/ScheduleAppointment/ScheduleAppointment.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ScheduleAppointmentDefault:function(){return ScheduleAppointmentDefault},default:function(){return ScheduleAppointment_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),hooks=__webpack_require__("./src/hooks/index.ts"),uikit=__webpack_require__("./src/uikit/index.ts"),components=__webpack_require__("./src/components/index.ts"),types=__webpack_require__("./src/types/index.ts"),Form=__webpack_require__("./src/components/Form/index.ts"),translations=__webpack_require__("./src/locales/translations.ts"),translations_translations=(0,objectSpread2.Z)((0,objectSpread2.Z)({},translations.Sq.views.findCare.scheduleAppointment),translations.Sq.views.findCare.buttons),ScheduleAppointment_module={root:"ScheduleAppointment_root__wDA84","top-content-wrapper":"ScheduleAppointment_top-content-wrapper__q4cF2","bottom-content-wrapper":"ScheduleAppointment_bottom-content-wrapper__sXK3g","bottom-content-text":"ScheduleAppointment_bottom-content-text__nH0Gi",image:"ScheduleAppointment_image__FcEx5",paragraph:"ScheduleAppointment_paragraph__34Vzk",asterisk:"ScheduleAppointment_asterisk__DYiy4","phone-number":"ScheduleAppointment_phone-number__0bvFN",title:"ScheduleAppointment_title__T1Pe6","sub-title":"ScheduleAppointment_sub-title__Y1Stk","submit-button":"ScheduleAppointment_submit-button__O0yn5",header:"ScheduleAppointment_header__ETakB"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ScheduleAppointment=function ScheduleAppointment(_ref){var onClose=_ref.onClose,t=(0,useTranslation.$)().t,isMobile=(0,hooks.dD)().isMobile,_useSendCallRequestMu=(0,types.ko4)(),_useSendCallRequestMu2=(0,slicedToArray.Z)(_useSendCallRequestMu,2),sendCallRequest=_useSendCallRequestMu2[0],loading=_useSendCallRequestMu2[1].loading,_useForm=(0,index_esm.cI)({mode:"onSubmit"}),handleSubmit=_useForm.handleSubmit,control=_useForm.control,errors=_useForm.formState.errors,_useA11yStatusMessage=(0,hooks.bi)({}),updateHandlers=_useA11yStatusMessage.updateHandlers,statusMessage=_useA11yStatusMessage.statusMessage,getPhoneNumberLength=function getPhoneNumberLength(phoneNumber){return phoneNumber?phoneNumber.replace(/[^0-9]/g,"").length:0},onSubmit=function(){var _ref3=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(_ref2){var phoneNumber;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return phoneNumber=_ref2.phoneNumber,_context.next=3,sendCallRequest({variables:{phoneNumber:phoneNumber}});case 3:onClose();case 4:case"end":return _context.stop()}}),_callee)})));return function onSubmit(_x){return _ref3.apply(this,arguments)}}(),content=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(uikit.O9,{children:statusMessage}),loading&&(0,jsx_runtime.jsx)(uikit.$j,{position:"absolute-center"}),(0,jsx_runtime.jsx)(components.xB,{heading:(0,jsx_runtime.jsx)(components.X6,{headingLevel:"h2",className:ScheduleAppointment_module.title,children:t(translations_translations.title)}),className:ScheduleAppointment_module.header}),(0,jsx_runtime.jsxs)(components.fe,{children:[(0,jsx_runtime.jsxs)("div",{className:ScheduleAppointment_module["top-content-wrapper"],children:[(0,jsx_runtime.jsx)("p",{className:ScheduleAppointment_module.paragraph,children:t(translations_translations.description)}),(0,jsx_runtime.jsxs)("p",{className:ScheduleAppointment_module.paragraph,children:[t(translations_translations.informativeLine),(0,jsx_runtime.jsx)("span",{className:ScheduleAppointment_module.asterisk,children:" *"}),"."]}),(0,jsx_runtime.jsx)(index_esm.Qr,{name:"phoneNumber",control:control,rules:{validate:function validatePhone(phone){return!(getPhoneNumberLength(phone)<11)||t(translations_translations.phoneValidation)}},render:function render(_ref4){var field=_ref4.field;return(0,jsx_runtime.jsx)(uikit.gs,{className:ScheduleAppointment_module["phone-number"],id:"phoneNumber",label:t(translations_translations.phoneNumber),isRequired:!0,validity:errors.phoneNumber&&"invalid",description:(0,jsx_runtime.jsx)(Form.p,{value:errors.phoneNumber}),input:function input(inputProps){return(0,jsx_runtime.jsx)(uikit.AJ,(0,objectSpread2.Z)((0,objectSpread2.Z)({},inputProps),{},{value:field.value,onChange:field.onChange,onFocus:function onFocus(){return function handleFocus(inputValue){var inputLength=getPhoneNumberLength(inputValue);inputLength?inputLength<11&&updateHandlers.updateCustomStatus(t(translations_translations.phoneInputInstructions)):updateHandlers.updateCustomStatus("+1, ".concat(t(translations_translations.phoneInputInstructions)))}(field.value)}}))}})}})]}),(0,jsx_runtime.jsx)("hr",{"aria-hidden":!0}),(0,jsx_runtime.jsxs)("div",{className:ScheduleAppointment_module["bottom-content-wrapper"],children:[(0,jsx_runtime.jsxs)("div",{className:ScheduleAppointment_module["bottom-content-text"],children:[(0,jsx_runtime.jsx)("h3",{className:ScheduleAppointment_module["sub-title"],children:t(translations_translations.workingHoursTitle)}),(0,jsx_runtime.jsx)("div",{children:t(translations_translations.workingHours)})]}),(0,jsx_runtime.jsx)("div",{className:ScheduleAppointment_module.image,children:(0,jsx_runtime.jsx)(components.JO,{type:"help"})})]})]})]});return isMobile?(0,jsx_runtime.jsx)(components.nb,{testId:"schedule-appointment-mobile",onGoBack:onClose,children:(0,jsx_runtime.jsxs)("form",{onSubmit:handleSubmit(onSubmit),children:[content,(0,jsx_runtime.jsx)("hr",{"aria-hidden":!0}),(0,jsx_runtime.jsx)(uikit.zx,{type:"submit",variant:"primary","data-testid":"submit-button",className:ScheduleAppointment_module["submit-button"],children:t(translations_translations.submit)})]})}):(0,jsx_runtime.jsx)(components.kw,{className:ScheduleAppointment_module.root,id:"schedule-appointment-modal",contentLabel:t(translations_translations.title),isOpen:!0,onRequestClose:onClose,testId:"schedule-appointment-modal",children:(0,jsx_runtime.jsxs)("form",{onSubmit:handleSubmit(onSubmit),children:[content,(0,jsx_runtime.jsx)(components.mz,{withSeparator:!0,children:(0,jsx_runtime.jsxs)(components.Zf,{children:[(0,jsx_runtime.jsx)(uikit.zx,{variant:"primary-outlined",className:ScheduleAppointment_module.button,onClick:onClose,"data-testid":"cancel-button",children:t(translations_translations.cancel)}),(0,jsx_runtime.jsx)(uikit.zx,{type:"submit",variant:"primary",className:ScheduleAppointment_module.button,"data-testid":"submit-button",children:t(translations_translations.submit)})]})})]})})};try{ScheduleAppointment.displayName="ScheduleAppointment",ScheduleAppointment.__docgenInfo={description:"",displayName:"ScheduleAppointment",props:{onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/views/FindCare/components/ScheduleAppointment/ScheduleAppointment.tsx#ScheduleAppointment"]={docgenInfo:ScheduleAppointment.__docgenInfo,name:"ScheduleAppointment",path:"src/views/FindCare/components/ScheduleAppointment/ScheduleAppointment.tsx#ScheduleAppointment"})}catch(__react_docgen_typescript_loader_error){}var ScheduleAppointment_stories={title:"Consumer Web / Find Care / ScheduleAppointment",component:ScheduleAppointment,argTypes:{onClose:{}}},ScheduleAppointmentDefault=function Template(args){return(0,jsx_runtime.jsx)(ScheduleAppointment,(0,objectSpread2.Z)({},args))}.bind({});ScheduleAppointmentDefault.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => {\n  return <ScheduleAppointment {...args} />;\n}"}},ScheduleAppointmentDefault.parameters)},"./src/components/Form/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{p:function(){return InputError}});var slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),InputError_module_root="InputError_root__CtIcv",jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),getInputErrors=function getInputErrors(fieldError){return fieldError?"string"==typeof fieldError?[fieldError]:fieldError.message?fieldError.types?Object.values(fieldError.types).filter((function(validateResult){return!!validateResult&&"string"==typeof validateResult})).map((function(message){return message})):[fieldError.message]:[]:[]},InputError=function InputError(_ref){var value=_ref.value,className=_ref.className,t=(0,useTranslation.$)().t;return(0,jsx_runtime.jsx)("span",{className:"".concat(className," ").concat(InputError_module_root),children:getInputErrors(value).map((function(message){var _message$split=message.split(":"),_message$split2=(0,slicedToArray.Z)(_message$split,2),error=_message$split2[0],_message$split2$=_message$split2[1],values=void 0===_message$split2$?"":_message$split2$,isI18nMessage=error.split(".").length>2;return(0,jsx_runtime.jsx)("span",{"data-input-message-element":"message",children:isI18nMessage?t(error,JSON.stringify(values)):error},error)}))})};try{InputError.displayName="InputError",InputError.__docgenInfo={description:"",displayName:"InputError",props:{renderMessage:{defaultValue:null,description:"",name:"renderMessage",required:!1,type:{name:"((message: string, messages: string[]) => ReactElement<any, string | JSXElementConstructor<any>>)"}},renderMessages:{defaultValue:null,description:"",name:"renderMessages",required:!1,type:{name:"((messages: string[], renderer: (message: string, messages: string[]) => ReactElement<any, string | JSXElementConstructor<any>>) => ReactElement<...>)"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string | FieldError | null | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Form/InputError/InputError.tsx#InputError"]={docgenInfo:InputError.__docgenInfo,name:"InputError",path:"src/components/Form/InputError/InputError.tsx#InputError"})}catch(__react_docgen_typescript_loader_error){}}}]);