"use strict";(self.webpackChunkh3_consumer_web=self.webpackChunkh3_consumer_web||[]).push([[6950],{"./src/stories/Dropdown.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default}});var _Users_matveyprupas_Documents_projects_WALG_CORE_h3_consumer_web_h3_consumer_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_components_Dropdown__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/Dropdown/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Consumer Web / Controls / Dropdown",component:_components_Dropdown__WEBPACK_IMPORTED_MODULE_0__.L};var Default=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components_Dropdown__WEBPACK_IMPORTED_MODULE_0__.L,(0,_Users_matveyprupas_Documents_projects_WALG_CORE_h3_consumer_web_h3_consumer_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},args))}.bind({});Default.args={id:"1",name:"example",label:"Label",placeholder:"Select an option",errorMessage:"Error message",isDisabled:!1,isError:!1,isRequired:!0,options:[{value:"single-line item",label:"Single-line item"},{value:"single-line item2",label:"Single-line item2"},{value:"single-line item3",label:"Single-line item3"},{value:"single-line item4",label:"Single-line item4"},{value:"single-line item5",label:"Single-line item5"}]},Default.parameters=(0,_Users_matveyprupas_Documents_projects_WALG_CORE_h3_consumer_web_h3_consumer_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({storySource:{source:"(args) => (\n  <Dropdown {...args} />\n)"}},Default.parameters)},"./src/components/Dropdown/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{L:function(){return Dropdown}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),react_select_esm=__webpack_require__("./node_modules/react-select/dist/react-select.esm.js"),index_c7a4d7ce_esm=__webpack_require__("./node_modules/react-select/dist/index-c7a4d7ce.esm.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),useReactSelectFix=__webpack_require__("./src/uikit/DropdownBase/useReactSelectFix.ts"),caret_down=__webpack_require__("./src/assets/icons/caret-down.svg"),Dropdown_module_label_element="Dropdown_label-element__P8TVo",Dropdown_module_text_element="Dropdown_text-element__KM-hw",Dropdown_module_select_placeholder_text="Dropdown_select-placeholder-text__cCivo",Dropdown_module_disabled="Dropdown_disabled__Sp8VV",Dropdown_module_error="Dropdown_error__adrxX",Dropdown_module_error_element="Dropdown_error-element__Wy-8c",Dropdown_module_required="Dropdown_required__dLmLQ",jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["id","placeholder","name","label","errorMessage","isDisabled","isError","isRequired","options","onChange","value","labelFromValue","ariaRole"],CaretDownIcon=function CaretDownIcon(){return(0,jsx_runtime.jsx)(caret_down.r,{})},DropdownIndicator=function DropdownIndicator(props){return(0,jsx_runtime.jsx)(index_c7a4d7ce_esm.c.DropdownIndicator,(0,objectSpread2.Z)((0,objectSpread2.Z)({},props),{},{children:(0,jsx_runtime.jsx)(CaretDownIcon,{})}))},Dropdown=(0,react.forwardRef)((function(_ref,ref){var _cn,_cn2,_cn3,_options$find,id=_ref.id,placeholder=_ref.placeholder,name=_ref.name,label=_ref.label,errorMessage=_ref.errorMessage,isDisabled=_ref.isDisabled,isError=_ref.isError,isRequired=_ref.isRequired,options=_ref.options,onChange=_ref.onChange,value=_ref.value,labelFromValue=_ref.labelFromValue,ariaRole=_ref.ariaRole,selectProps=(0,objectWithoutProperties.Z)(_ref,_excluded),_useState=(0,react.useState)(isError),_useState2=(0,slicedToArray.Z)(_useState,2),hasError=_useState2[0],setError=_useState2[1],_useState3=(0,react.useState)(!1),_useState4=(0,slicedToArray.Z)(_useState3,2),isArrowKey=_useState4[0],setIsArrowKey=_useState4[1],t=(0,useTranslation.$)().t;(0,react.useEffect)((function(){setError(isError)}),[isError]);var arrowKeyListener=(0,react.useCallback)((function(e){"ArrowDown"===e.key||"ArrowUp"===e.key?setIsArrowKey(!0):setIsArrowKey(!1)}),[]),mouseListener=(0,react.useCallback)((function(){setIsArrowKey(!1)}),[]);(0,react.useEffect)((function(){return window.addEventListener("keydown",arrowKeyListener),window.addEventListener("click",mouseListener),function(){window.removeEventListener("keydown",arrowKeyListener),window.removeEventListener("click",mouseListener)}}),[arrowKeyListener,mouseListener]);return(0,useReactSelectFix.e)("".concat(name,"-error"),isRequired?"true":void 0,ariaRole,null==selectProps?void 0:selectProps.inputId,"".concat(name,"-label")),(0,jsx_runtime.jsxs)("label",{ref:ref,className:classnames_default()(Dropdown_module_label_element,(_cn={},(0,defineProperty.Z)(_cn,Dropdown_module_disabled,isDisabled),(0,defineProperty.Z)(_cn,"arrow-key",isArrowKey),_cn)),id:"".concat(name,"-label"),children:[label,(0,jsx_runtime.jsx)("span",{className:classnames_default()((_cn2={},(0,defineProperty.Z)(_cn2,Dropdown_module_required,isRequired),(0,defineProperty.Z)(_cn2,Dropdown_module_disabled,isDisabled),_cn2))}),(0,jsx_runtime.jsx)(react_select_esm.ZP,(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({},selectProps),{},{className:classnames_default()(Dropdown_module_text_element,"h3-select-override",(_cn3={},(0,defineProperty.Z)(_cn3,Dropdown_module_error,hasError),(0,defineProperty.Z)(_cn3,Dropdown_module_disabled,isDisabled),_cn3)),classNamePrefix:classnames_default()("h3-select",{error:hasError},{disabled:isDisabled}),value:{value:(labelFromValue?value:(null==value?void 0:value.value)||"")||"",label:(labelFromValue?null===(_options$find=options.find((function(option){return option.value===value})))||void 0===_options$find?void 0:_options$find.label:null==value?void 0:value.label)||""},components:{DropdownIndicator:DropdownIndicator},isDisabled:isDisabled,isSearchable:!1,options:options},id&&{id:id}),{},{placeholder:(0,jsx_runtime.jsx)("div",{className:classnames_default()(Dropdown_module_select_placeholder_text),children:placeholder}),name:name,maxMenuHeight:280,"aria-invalid":hasError,"aria-disabled":isDisabled,ariaLiveMessages:{onFocus:function onFocusA11y(_ref2){var focused=_ref2.focused,disabled=_ref2.isDisabled;return t("dropdown.accessibilityMessages.onFocus.focusedOn",{option:focused.label,disabled:disabled?t("dropdown.accessibilityMessages.onFocus.disabled"):""})}},onChange:function handleInputChange(item){onChange&&onChange(item),setError(!1)}})),(0,jsx_runtime.jsx)("span",{id:"".concat(name,"-error"),className:classnames_default()(Dropdown_module_error_element),children:hasError?errorMessage:""})]})}));Dropdown.defaultProps={label:"",errorMessage:"",isDisabled:!1,isError:!1,isRequired:!0},Dropdown.displayName="Dropdown";try{Dropdown.displayName="Dropdown",Dropdown.__docgenInfo={description:"",displayName:"Dropdown",props:{id:{defaultValue:null,description:"Id value for the Dropdown",name:"id",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"placeholder attribute for the Dropdown",name:"placeholder",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"Name value for the Dropdown",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:{value:""},description:"Text that is accessible to assitive technology.",name:"label",required:!1,type:{name:"string"}},errorMessage:{defaultValue:{value:""},description:"Error text that is accessible to assitive technology.",name:"errorMessage",required:!1,type:{name:"string"}},isDisabled:{defaultValue:{value:"false"},description:"Disabled additional class is added to disable the Dropdown and to change color.",name:"isDisabled",required:!1,type:{name:"boolean"}},isError:{defaultValue:{value:"false"},description:"Disabled additional class is added to make the error state and to change color.",name:"isError",required:!1,type:{name:"boolean"}},isRequired:{defaultValue:{value:"true"},description:"Required additional class is added to make the required state and add a '*'.",name:"isRequired",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"Link to the Notice of Privacy Practices",name:"options",required:!0,type:{name:"DropdownObjectValue[]"}},onChange:{defaultValue:null,description:"optional onChange handler",name:"onChange",required:!1,type:{name:"((item: DropdownObjectValue) => void)"}},value:{defaultValue:null,description:"value for dropdown",name:"value",required:!1,type:{name:"string | number | DropdownObjectValue"}},labelFromValue:{defaultValue:null,description:"Optional labelFromValue prop, that finds label according to value",name:"labelFromValue",required:!1,type:{name:"boolean"}},ariaRole:{defaultValue:null,description:"aria role attribute for dropdown input",name:"ariaRole",required:!1,type:{name:"AriaRole"}},inputId:{defaultValue:null,description:"id for the input dropdown",name:"inputId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Dropdown/Dropdown.tsx#Dropdown"]={docgenInfo:Dropdown.__docgenInfo,name:"Dropdown",path:"src/components/Dropdown/Dropdown.tsx#Dropdown"})}catch(__react_docgen_typescript_loader_error){}}}]);