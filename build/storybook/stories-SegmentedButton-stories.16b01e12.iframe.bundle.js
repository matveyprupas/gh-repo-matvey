"use strict";(self.webpackChunkh3_consumer_web=self.webpackChunkh3_consumer_web||[]).push([[3114],{"./src/stories/SegmentedButton.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},default:function(){return SegmentedButton_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),SegmentedButton_module_segmented_button="SegmentedButton_segmented-button__WhbB+",SegmentedButton_module_segmented_button__left="SegmentedButton_segmented-button__left__KNYwX",SegmentedButton_module_segmented_button__right="SegmentedButton_segmented-button__right__sPO6Y",SegmentedButton_module_segmented_button__left__error="SegmentedButton_segmented-button__left--error__vD4-M",SegmentedButton_module_segmented_button__right__error="SegmentedButton_segmented-button__right--error__xMl03",SegmentedButton_module_segmented_button__left__active="SegmentedButton_segmented-button__left--active__oFBeF",SegmentedButton_module_segmented_button__right__active="SegmentedButton_segmented-button__right--active__lFZnC",SegmentedButton_module_segmented_button__left__disabled="SegmentedButton_segmented-button__left--disabled__AA-tR",SegmentedButton_module_segmented_button__right__disabled="SegmentedButton_segmented-button__right--disabled__BjcJ3",SegmentedButton_module_segmented_button_caption="SegmentedButton_segmented-button-caption__xIlNL",jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),SegmentedButton=function SegmentedButton(_ref){var _cn,_cn2,ariaLabel=_ref.ariaLabel,isError=_ref.isError,isDisabled=_ref.isDisabled,options=_ref.options,caption=_ref.caption,_useState=(0,react.useState)(options),_useState2=(0,slicedToArray.Z)(_useState,2),opts=_useState2[0],setOpts=_useState2[1],_useState3=(0,react.useState)(isError),_useState4=(0,slicedToArray.Z)(_useState3,2),error=_useState4[0],setError=_useState4[1],tabIndexLeft=isDisabled?-1:0,tabIndexRight=!options.right.isActive||isDisabled?-1:0,_useState5=(0,react.useState)([tabIndexLeft,tabIndexRight]),_useState6=(0,slicedToArray.Z)(_useState5,2),tabIndexLR=_useState6[0],setTabIndexLR=_useState6[1],segButtonRef=(0,react.useRef)(null);(0,react.useEffect)((function(){(error||isDisabled)&&setOpts((function(item){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},item),{},{left:(0,objectSpread2.Z)((0,objectSpread2.Z)({},item.left),{},{isActive:!1}),right:(0,objectSpread2.Z)((0,objectSpread2.Z)({},item.right),{},{isActive:!1})})})),setTabIndexLR([0,-1])}),[error,isDisabled]),(0,react.useEffect)((function(){setError(isError)}),[isError]);var setActiveOption=function setActiveOption(button){switch(button){case"left":setOpts((function(items){return{left:{text:items.left.text,isActive:!0},right:{text:items.right.text,isActive:!1}}})),setTabIndexLR((function(){return[0,-1]})),setError(!1);break;case"right":setOpts((function(items){return{left:{text:items.left.text,isActive:!1},right:{text:items.right.text,isActive:!0}}})),setTabIndexLR((function(){return[-1,0]})),setError(!1)}},onClickHandler=function onClickHandler(option){return setActiveOption(option)},onKeyDownHandler=function onKeyDownHandler(_ref2){var code=_ref2.code,buttonFocused=document.activeElement,downRightAction=function downRightAction(){var _buttonFocused$parent;null!==(null==buttonFocused?void 0:buttonFocused.nextElementSibling)?((null==buttonFocused?void 0:buttonFocused.nextElementSibling).focus(),setActiveOption("right")):((null==buttonFocused||null===(_buttonFocused$parent=buttonFocused.parentElement)||void 0===_buttonFocused$parent?void 0:_buttonFocused$parent.childNodes[0]).focus(),setActiveOption("left"))},leftUpAction=function leftUpAction(){if(null!==(null==buttonFocused?void 0:buttonFocused.previousElementSibling))(null==buttonFocused?void 0:buttonFocused.previousElementSibling).focus(),setActiveOption("left");else{var _buttonFocused$parent2,childNodes=null==buttonFocused||null===(_buttonFocused$parent2=buttonFocused.parentElement)||void 0===_buttonFocused$parent2?void 0:_buttonFocused$parent2.childNodes;if(!childNodes)return;childNodes[childNodes.length-1].focus(),setActiveOption("right")}};switch(code){case"ArrowDown":case"ArrowRight":downRightAction();break;case"ArrowLeft":case"ArrowUp":leftUpAction()}};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{"aria-invalid":error,"aria-disabled":isDisabled,"aria-label":ariaLabel,ref:segButtonRef,className:classnames_default()(SegmentedButton_module_segmented_button),role:"radiogroup",children:[(0,jsx_runtime.jsx)("button",{"aria-checked":opts.left.isActive,"aria-label":opts.left.text,"data-testid":"left-button",className:classnames_default()(SegmentedButton_module_segmented_button__left,(_cn={},(0,defineProperty.Z)(_cn,SegmentedButton_module_segmented_button__left__error,error&&!isDisabled),(0,defineProperty.Z)(_cn,SegmentedButton_module_segmented_button__left__disabled,isDisabled),(0,defineProperty.Z)(_cn,SegmentedButton_module_segmented_button__left__active,opts.left.isActive),_cn)),tabIndex:tabIndexLR[0],type:"button",role:"radio",onClick:function onClick(){return onClickHandler("left")},onKeyDown:function onKeyDown(e){return onKeyDownHandler(e)},children:opts.left.text}),(0,jsx_runtime.jsx)("button",{"aria-checked":opts.right.isActive,"aria-label":opts.right.text,"data-testid":"right-button",className:classnames_default()(SegmentedButton_module_segmented_button__right,(_cn2={},(0,defineProperty.Z)(_cn2,SegmentedButton_module_segmented_button__right__error,error&&!isDisabled),(0,defineProperty.Z)(_cn2,SegmentedButton_module_segmented_button__right__disabled,isDisabled),(0,defineProperty.Z)(_cn2,SegmentedButton_module_segmented_button__right__active,opts.right.isActive),_cn2)),type:"button",role:"radio",tabIndex:tabIndexLR[1],onClick:function onClick(){return onClickHandler("right")},onKeyDown:function onKeyDown(e){return onKeyDownHandler(e)},children:opts.right.text})]}),(0,jsx_runtime.jsx)("div",{className:classnames_default()(SegmentedButton_module_segmented_button_caption),children:error&&!isDisabled&&caption})]})};try{SegmentedButton.displayName="SegmentedButton",SegmentedButton.__docgenInfo={description:"",displayName:"SegmentedButton",props:{ariaLabel:{defaultValue:null,description:"The label to be displayed for accessibility requirements",name:"ariaLabel",required:!1,type:{name:"string"}},isDisabled:{defaultValue:null,description:"Sets the segmented button disabled",name:"isDisabled",required:!1,type:{name:"boolean"}},isError:{defaultValue:null,description:"Sets the segmented button in a error state",name:"isError",required:!1,type:{name:"boolean"}},caption:{defaultValue:null,description:"The caption to be displayed in case of error",name:"caption",required:!0,type:{name:"string"}},options:{defaultValue:null,description:"The attributes of the left and right button",name:"options",required:!0,type:{name:"Options"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SegmentedButton/SegmentedButton.tsx#SegmentedButton"]={docgenInfo:SegmentedButton.__docgenInfo,name:"SegmentedButton",path:"src/components/SegmentedButton/SegmentedButton.tsx#SegmentedButton"})}catch(__react_docgen_typescript_loader_error){}var SegmentedButton_stories={title:"Consumer Web / Controls / SegmentedButton",component:SegmentedButton},Default=function Template(args){return(0,jsx_runtime.jsx)("div",{style:{padding:"30px 30px 30px 30px",backgroundColor:"white",justifyContent:"start"},children:(0,jsx_runtime.jsx)(SegmentedButton,(0,objectSpread2.Z)({},args))})}.bind({});Default.args={ariaLabel:"Do you want a reminder?",isError:!1,isDisabled:!1,caption:"You need to select one",options:{left:{isActive:!1,text:"Yes"},right:{isActive:!1,text:"No"}}},Default.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => (\n  <div\n    style={{\n      padding: '30px 30px 30px 30px',\n      backgroundColor: 'white',\n      justifyContent: 'start'\n    }}\n  >\n    <SegmentedButton {...args} />\n  </div>\n)"}},Default.parameters)}}]);