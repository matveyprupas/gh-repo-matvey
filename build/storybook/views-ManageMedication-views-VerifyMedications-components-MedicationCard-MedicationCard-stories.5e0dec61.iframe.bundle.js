"use strict";(self.webpackChunkh3_consumer_web=self.webpackChunkh3_consumer_web||[]).push([[3020],{"./src/views/ManageMedication/views/VerifyMedications/components/MedicationCard/MedicationCard.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},Skipped:function(){return Skipped},Success:function(){return Success},default:function(){return MedicationCard_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),graphql_type=__webpack_require__("./src/types/graphql.type.ts"),useUserLanguage=__webpack_require__("./src/hooks/useUserLanguage.ts"),uikit=__webpack_require__("./src/uikit/index.ts"),EditMedicationDropdown=__webpack_require__("./src/views/ManageMedication/components/EditMedicationDropdown/index.ts"),SegmentedGroup=__webpack_require__("./src/uikit/SegmentedGroup/index.ts"),Icon=__webpack_require__("./src/components/Icon/index.ts"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),MedicationQuestion_module_medication_question="MedicationQuestion_medication-question__9ngAe",MedicationQuestion_module_yes_selected="MedicationQuestion_yes-selected__43uZ8",MedicationQuestion_module_no_selected="MedicationQuestion_no-selected__q-w-p",MedicationQuestion_module_question="MedicationQuestion_question__ffP3B",MedicationQuestion_module_visible="MedicationQuestion_visible__HLYA5",MedicationQuestion_module_segmented_group_medication="MedicationQuestion_segmented-group-medication__HY0kF",MedicationQuestion_module_success="MedicationQuestion_success__uJU1p",MedicationQuestion_module_skipped="MedicationQuestion_skipped__azjKs",MedicationQuestion_module_segmented_group="MedicationQuestion_segmented-group__EqMyk",MedicationQuestion_module_bold="MedicationQuestion_bold__exC7F",jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),MedicationQuestion=function MedicationQuestion(_ref){var id=_ref.id,_ref$question=_ref.question,question=void 0===_ref$question?"Are you taking this medication?":_ref$question,isDisabled=_ref.isDisabled,onChange=_ref.onChange,type=_ref.type,t=(0,useTranslation.$)().t;return(0,jsx_runtime.jsxs)("div",{"data-element":"MedicationQuestion",className:"\n        ".concat("Yes"===type&&MedicationQuestion_module_success,"\n        ").concat("No"===type&&MedicationQuestion_module_skipped,"\n        ").concat(MedicationQuestion_module_medication_question,"\n      "),children:[(0,jsx_runtime.jsx)("div",{"data-testid":"question",className:MedicationQuestion_module_question,children:t("medicationCard.question.Areyoutakingthismedication?")}),(0,jsx_runtime.jsx)("div",{className:"".concat(MedicationQuestion_module_segmented_group," ").concat(!("onprocess"===type||"none"===type)&&MedicationQuestion_module_visible),children:(0,jsx_runtime.jsxs)(SegmentedGroup.C,{name:[id,"choose",question].join("-"),"aria-label":t("medicationCard.question.Areyoutakingthismedication?"),value:"onprocess"===type?"Yes":type,onChange:onChange,className:MedicationQuestion_module_segmented_group_medication,isDisabled:isDisabled,children:[(0,jsx_runtime.jsx)(SegmentedGroup.u,{value:"Yes",isChecked:"onprocess"===type,children:t("medicationCard.question.Yes")}),(0,jsx_runtime.jsx)(SegmentedGroup.u,{value:"No",isChecked:"No"===type,children:t("medicationCard.question.No")})]})}),(0,jsx_runtime.jsxs)("div",{className:"\n          ".concat("Yes"!==type&&MedicationQuestion_module_visible," \n          ").concat(MedicationQuestion_module_yes_selected,"\n        "),children:[(0,jsx_runtime.jsx)(Icon.JO,{type:"blue-check-mark"}),(0,jsx_runtime.jsx)("p",{className:MedicationQuestion_module_bold,children:t("medicationCard.question.Yes")})]}),(0,jsx_runtime.jsxs)("div",{className:"\n          ".concat("No"!==type&&MedicationQuestion_module_visible,"\n          ").concat(MedicationQuestion_module_no_selected,"\n        "),children:[(0,jsx_runtime.jsx)(Icon.JO,{type:"minus"}),(0,jsx_runtime.jsx)("p",{className:MedicationQuestion_module_bold,children:t("medicationCard.question.No")})]})]})};try{MedicationQuestion.displayName="MedicationQuestion",MedicationQuestion.__docgenInfo={description:"",displayName:"MedicationQuestion",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},question:{defaultValue:{value:"Are you taking this medication?"},description:"",name:"question",required:!1,type:{name:"string"}},isDisabled:{defaultValue:null,description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"ChangeEventHandler<HTMLInputElement> & FormEventHandler<HTMLElement>"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"onprocess"'},{value:'"Yes"'},{value:'"No"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/views/ManageMedication/views/VerifyMedications/components/MedicationCard/MedicationQuestion/MedicationQuestion.tsx#MedicationQuestion"]={docgenInfo:MedicationQuestion.__docgenInfo,name:"MedicationQuestion",path:"src/views/ManageMedication/views/VerifyMedications/components/MedicationCard/MedicationQuestion/MedicationQuestion.tsx#MedicationQuestion"})}catch(__react_docgen_typescript_loader_error){}var MedicationIcon=__webpack_require__("./src/views/ManageMedication/components/MedicationIcon/index.ts"),Heading=__webpack_require__("./src/components/Heading/index.ts"),Button=__webpack_require__("./src/uikit/Button/index.ts"),routes=__webpack_require__("./src/constants/routes.ts"),react_router=__webpack_require__("./node_modules/react-router/index.js"),MedicationInfo_module={"medication-info":"MedicationInfo_medication-info__QPNHl",heading:"MedicationInfo_heading__3jbha",info:"MedicationInfo_info__8tsRN","skipped-info":"MedicationInfo_skipped-info__nstx8",figure:"MedicationInfo_figure__+7ZAf"},MedicationInfo=function MedicationInfo(_ref){var _ref$title=_ref.title,title=void 0===_ref$title?" ":_ref$title,onClick=_ref.onClick,isDisabled=_ref.isDisabled,_ref$medicationGroup=_ref.medicationGroup,medicationGroup=void 0===_ref$medicationGroup?"Misc":_ref$medicationGroup,_ref$type=_ref.type,type=void 0===_ref$type?"normal":_ref$type,_ref$headingLevel=_ref.headingLevel,headingLevel=void 0===_ref$headingLevel?"h2":_ref$headingLevel,id=_ref.id,medicationData=_ref.medicationData,t=(0,useTranslation.$)().t,location=(0,react_router.TH)(),buttonText="normal"===type||"onprocess"===type?"ViewDetails":"Edit",buttonIcon="normal"===type||"onprocess"===type?"chevron-right-circle":"edit";return(0,jsx_runtime.jsxs)("div",{"data-item":"info",className:"\n      ".concat(MedicationInfo_module["medication-info"],"\n      ").concat("skipped"===type&&MedicationInfo_module["skipped-info"],"\n      ").concat("success"===type&&MedicationInfo_module["success-info"],"\n    "),children:[(0,jsx_runtime.jsxs)("div",{className:"\n        ".concat(MedicationInfo_module.info,"\n      "),children:[(0,jsx_runtime.jsx)("figure",{className:MedicationInfo_module.figure,children:(0,jsx_runtime.jsx)(MedicationIcon.EA,{medicationGroup:medicationGroup,isActive:"skipped"!==type})}),(0,jsx_runtime.jsx)(Heading.X,{headingLevel:headingLevel,className:MedicationInfo_module.heading,children:title})]}),(0,jsx_runtime.jsxs)(Button.z,{to:"".concat(routes._.medicationManagement.edit,"/").concat(id),isDisabled:isDisabled,variant:"text",onClick:onClick,"aria-label":"".concat(t("medicationCard.infoButton.".concat(buttonText)),", ").concat(title),state:{prevRoute:location.pathname,medication:medicationData},children:[t("medicationCard.infoButton.".concat(buttonText)),(0,jsx_runtime.jsx)(Icon.JO,{type:buttonIcon})]})]})};try{MedicationInfo.displayName="MedicationInfo",MedicationInfo.__docgenInfo={description:"",displayName:"MedicationInfo",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},headingLevel:{defaultValue:{value:"h2"},description:"",name:"headingLevel",required:!1,type:{name:"enum",value:[{value:'"h1"'},{value:'"h2"'},{value:'"h3"'},{value:'"h4"'},{value:'"h5"'}]}},title:{defaultValue:{value:""},description:"",name:"title",required:!1,type:{name:"string"}},medicationGroup:{defaultValue:{value:"Misc"},description:"",name:"medicationGroup",required:!1,type:{name:"string | null"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => any)"}},isDisabled:{defaultValue:null,description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},type:{defaultValue:{value:"normal"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"normal"'},{value:'"success"'},{value:'"skipped"'},{value:'"onprocess"'}]}},medicationData:{defaultValue:null,description:"",name:"medicationData",required:!1,type:{name:"Medications"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/views/ManageMedication/views/VerifyMedications/components/MedicationCard/MedicationInfo/MedicationInfo.tsx#MedicationInfo"]={docgenInfo:MedicationInfo.__docgenInfo,name:"MedicationInfo",path:"src/views/ManageMedication/views/VerifyMedications/components/MedicationCard/MedicationInfo/MedicationInfo.tsx#MedicationInfo"})}catch(__react_docgen_typescript_loader_error){}var MedicationCard_module={wrapper:"MedicationCard_wrapper__IdaAA",success:"MedicationCard_success__oc8Zm",header:"MedicationCard_header__RpeXc","edit-medication":"MedicationCard_edit-medication__gbe7x","not-displayed":"MedicationCard_not-displayed__-U9vf"},MedicationCard=function MedicationCard(_ref){var _ref$type=_ref.type,type=void 0===_ref$type?"normal":_ref$type,question=_ref.question,medicationInfo=_ref.medicationInfo,onChange=_ref.onChange,onSubmit=_ref.onSubmit,medicationData=_ref.medicationData,isLoading=_ref.isLoading,_useState=(0,react.useState)(type),_useState2=(0,slicedToArray.Z)(_useState,2),cardType=_useState2[0],setCardType=_useState2[1],_useState3=(0,react.useState)(!1),_useState4=(0,slicedToArray.Z)(_useState3,2),editOpen=_useState4[0],setEditOpen=_useState4[1],_useState5=(0,react.useState)(!1),_useState6=(0,slicedToArray.Z)(_useState5,2),hasSubmited=_useState6[0],setHasSubmited=_useState6[1],language=(0,useUserLanguage.f)(),_useCatalogueMedicine=(0,graphql_type.nbX)({variables:{productId:medicationData.productId||"",lang:language}}),data=_useCatalogueMedicine.data,loading=_useCatalogueMedicine.loading;(0,react.useEffect)((function(){setCardType(type)}),[type]),(0,react.useEffect)((function(){hasSubmited&&!isLoading&&(setEditOpen(!1),setCardType("success"))}),[hasSubmited,isLoading]);return(0,jsx_runtime.jsxs)("div",{className:"".concat(MedicationCard_module.wrapper," ").concat(MedicationCard_module[cardType]),"data-type":type,"data-element":"wrapper",children:[(0,jsx_runtime.jsxs)("div",{className:"".concat(MedicationCard_module.header),children:[(0,jsx_runtime.jsx)(MedicationInfo,(0,objectSpread2.Z)((0,objectSpread2.Z)({},medicationInfo),{},{id:medicationData.id,medicationGroup:medicationData.medicationGroup,type:cardType,medicationData:medicationData})),(0,jsx_runtime.jsx)(MedicationQuestion,{type:function defineDefaultOption(){switch(cardType){case"normal":default:return"none";case"success":return"Yes";case"onprocess":return"onprocess";case"skipped":return"No"}}(),onChange:function onChangeHandler(event){switch(event.target.value){case"Yes":setCardType("onprocess"),null==onChange||onChange("onprocess",medicationData),setEditOpen(!0);break;case"No":setCardType("skipped"),null==onChange||onChange("skipped",medicationData),setEditOpen(!1);break;default:setCardType("normal"),null==onChange||onChange("normal",medicationData)}},question:question,id:medicationData.id})]}),(0,jsx_runtime.jsx)("div",{className:"".concat(editOpen?MedicationCard_module["edit-medication"]:MedicationCard_module["not-displayed"]),children:loading?(0,jsx_runtime.jsx)(uikit.$j,{className:MedicationCard_module["profile-loader"]}):(0,jsx_runtime.jsx)(EditMedicationDropdown.L,{handleDone:function onDone(data){null==onSubmit||onSubmit(medicationData,data),setHasSubmited(!0)},isLoading:isLoading,intakeData:null==data?void 0:data.catalogueMedicine})})]})};try{MedicationCard.displayName="MedicationCard",MedicationCard.__docgenInfo={description:"",displayName:"MedicationCard",props:{medicationData:{defaultValue:null,description:"",name:"medicationData",required:!0,type:{name:"Medications"}},type:{defaultValue:{value:"normal"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"normal"'},{value:'"success"'},{value:'"skipped"'},{value:'"onprocess"'}]}},question:{defaultValue:null,description:"",name:"question",required:!1,type:{name:"string"}},medicationInfo:{defaultValue:null,description:"",name:"medicationInfo",required:!1,type:{name:"MedicationInfoProps"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((type: string, medicationData: Medications) => void)"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"((medicationData: Medications, data: FormValues) => void)"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/views/ManageMedication/views/VerifyMedications/components/MedicationCard/MedicationCard.tsx#MedicationCard"]={docgenInfo:MedicationCard.__docgenInfo,name:"MedicationCard",path:"src/views/ManageMedication/views/VerifyMedications/components/MedicationCard/MedicationCard.tsx#MedicationCard"})}catch(__react_docgen_typescript_loader_error){}var MedicationCard_stories={title:"Consumer Web/Medication Card",component:MedicationCard},Template=function Template(args){return(0,jsx_runtime.jsx)(MedicationCard,(0,objectSpread2.Z)({},args))},medicationData={id:"test",productId:"1231-12313",name:"Medication Name",description:"Medication Description",medicationGroup:"Powder",status:"ACTIVE",lastRefillDate:"2022-11-11",quantity:"5",prescribedBy:"Dr Storybook",prescriberPhoneNumber:"+1 - 800 - 123 -1234",pharmacy:"Storybook Pharmacy",pharmacyPhoneNumber:"+1 - 800 - 123 -1235",gpi:"12312",creationType:"",intakeReasonValue:"",intakeTimeValue:"",quantityValue:"5"},Default=Template.bind({});Default.args={type:"normal",medicationInfo:{id:"1",title:"Albuterol 500mg",headingLevel:"h2"},medicationData:medicationData};var Success=Template.bind({});Success.args={type:"success",medicationInfo:{title:"Albuterol 500mg",headingLevel:"h3"},medicationData:medicationData};var Skipped=Template.bind({});Skipped.args={type:"skipped",medicationInfo:{title:"Albuterol 500mg",headingLevel:"h4"},medicationData:medicationData},Default.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => (\n  <MedicationCard {...args} />\n)"}},Default.parameters),Success.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => (\n  <MedicationCard {...args} />\n)"}},Success.parameters),Skipped.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => (\n  <MedicationCard {...args} />\n)"}},Skipped.parameters)},"./src/components/Heading/Heading.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{X:function(){return Heading}});var _Users_matveyprupas_Documents_projects_WALG_CORE_h3_consumer_web_h3_consumer_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_Users_matveyprupas_Documents_projects_WALG_CORE_h3_consumer_web_h3_consumer_web_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["className","children","headingLevel"],Heading=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function(_ref,ref){var className=_ref.className,children=_ref.children,headingLevel=_ref.headingLevel,props=(0,_Users_matveyprupas_Documents_projects_WALG_CORE_h3_consumer_web_h3_consumer_web_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref,_excluded),HeadingLevel=headingLevel||"h2";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(HeadingLevel,(0,_Users_matveyprupas_Documents_projects_WALG_CORE_h3_consumer_web_h3_consumer_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,_Users_matveyprupas_Documents_projects_WALG_CORE_h3_consumer_web_h3_consumer_web_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({ref:ref,className:"".concat(className)},props),{},{children:children}))}));Heading.defaultProps={className:"",headingLevel:"h2"},Heading.displayName="Heading";try{Heading.displayName="Heading",Heading.__docgenInfo={description:"",displayName:"Heading",props:{className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},headingLevel:{defaultValue:{value:"h2"},description:"",name:"headingLevel",required:!1,type:{name:"enum",value:[{value:'"h1"'},{value:'"h2"'},{value:'"h3"'},{value:'"h4"'},{value:'"h5"'},{value:'"h6"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Heading/Heading.tsx#Heading"]={docgenInfo:Heading.__docgenInfo,name:"Heading",path:"src/components/Heading/Heading.tsx#Heading"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Heading/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{X:function(){return _Heading__WEBPACK_IMPORTED_MODULE_0__.X}});var _Heading__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/Heading/Heading.tsx")},"./src/views/ManageMedication/components/EditMedicationDropdown/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{L:function(){return _EditMedicationDropdown__WEBPACK_IMPORTED_MODULE_0__.L}});var _EditMedicationDropdown__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/views/ManageMedication/components/EditMedicationDropdown/EditMedicationDropdown.tsx")},"./src/views/ManageMedication/components/MedicationIcon/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{EA:function(){return _MedicationIcon__WEBPACK_IMPORTED_MODULE_0__.EA}});var _MedicationIcon__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/views/ManageMedication/components/MedicationIcon/MedicationIcon.tsx")}}]);